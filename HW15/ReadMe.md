# Динамическое программирование
## Домашнее задание: задача про сарай

### Цель: Решить задачу с двойным применением метода динамического программирования

### Суть задачи: 

Фермер хочет построить на своей земле как можно больший по площади сарай. Но на его участке есть деревья и хозяйственные постройки, которые он не хочет никуда переносить. Для удобства представим ферму сеткой размера N × M. Каждое из деревьев и построек размещается в одном или нескольких узлах сетки. Найти максимально возможную площадь сарая и где он может размещаться. 

Начальные данные: Вводится матрица размера N × M из 0 и 1. 1 соответствует постройке, 0 - пустой клетке.

Начальные данные: На первой строке вводится размер матрицы N M (через пробел) от 1 до 1000. На второй строке вводится количество построек T (от 0 до 10000). Далее на T строчках вводится координаты построек по два числа X Y, где 0 <= X < N; 0 <= Y < M.

Вывод результата: Число, соответствующее максимальной площади сарая (количество ячеек).


### Описание

Решение задачи разделено на 3 этапа:

- Решение задачи простым перебором (сложность N^4 и оптимизированный N^4)
- Вычисление через длину сарая (сложность N^3). Вычисление максимальной длины сарая для каждой клетки 
- Вычисление через длину и ширину сарая (сложность N^2). Вычисление максимально доступной ширины для выбранной длины

> тесты в [main.swift](https://github.com/c-villain/OTUS_algo/blob/main/HW15/Sarah/main.swift)

### Результаты

#### Сравнение вариантов

| N     | F  | answer | N^4     | answer | N^4 opt | answer | N^3   | answer | N^2     |
|-------|----|--------|---------|--------|---------|--------|-------|--------|---------|
| 10    | 10 | 40     | 0,205ms | 50     | 0,170ms | 42     | 0,5ms | 36     | 0,5ms   |
| 10    | 20 | 40     | 0,198ms | 30     | 0,120ms | 72     | 0,5ms | 32     | 0,33ms  |
| 10    | 30 | 72     | 0,221ms | 100    | 0,237ms | 72     | 0,5ms | 56     | 0,44 ms |
| 1000  | 10 | 144    | 333s    | 160    | 2,53s   | 140    | 1s    | 148    | 3,12s   |
| 1000  | 20 |        |         | 320    | 5,78s   | 342    | 1.2s  | 338    | 3,18s   |
| 1000  | 30 |        |         | 423    | 8,7s    | 480    | 1,45s | 440    | 3,4s    |
| 2000  | 10 |        |         | 196    | 12,1s   | 182    | 4s    | 156    | 13,11s  |
| 2000  | 20 |        |         | 332    | 22,5s   | 340    | 5,17s | 336    | 13,03s  |
| 2000  | 30 |        |         | 484    | 35s     | 495    | 5,78s | 480    | 13,7s   |
| 5000  | 10 |        |         | 192    | 65s     | 160    | 26,7s | 210    | 87s     |
| 5000  | 20 |        |         |        |         | 342    | 33,3s | 378    | 89s     |
| 5000  | 30 |        |         |        |         | 561    | 42s   | 528    | 88s     |
| 10000 | 10 |        |         |        |         |        |       | 220    | 340s    |
| 10000 | 20 |        |         |        |         |        |       | 400    | 346s    |
| 10000 | 30 |        |         |        |         |        |       | 615    | 338s    |

Практический результат показал, что скорость решения задачи зависит от N и F:
- **наиболее эффективен** вариант вычисления только через длину сарая (сложность N^3) при N <= 5000, 
- **наиболее эффективен** вариант вычисления через длину и ширину сарая (сложность N^2) при N >= 10000, так как при реализации стэка используется затратная процедура  boxing/unboxing
